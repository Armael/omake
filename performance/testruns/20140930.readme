Performance test

Hardware: Intel Atom C2550 (Avoton), 2.4 GHz, quad-core, 16G RAM
          Disks: RAID-1 hybrid (SSD + HD)
OS: Linux 3.2 64bit

This run applies to the state of omake before doing any performance
improvements.


Results: (user time and sys time aggregated for all children, i.e.
omake plus all ocamlc/ocamlopt invocations. t/module = elapsed time / modules)

n 	j 	c	elapsed time(s)	user time(s)	sys time(s)	t/module (ms)

5	1	100	57.7		28.3		24.2		92
5	1	1000	58.5		29.0		24.6		94
5 	1	10000	64.9		35.1		24.9		104
5	2	100	31.3		28.2		25.6		50
5	2	1000	31.3		29.3		25.7		50
5	2	10000	34.7		35.3		26.5		56
5	4	100	19.8		33.1		28.2		32
5	4	1000	19.4		34.0		27.9		31
5	4	10000	21.6		39.3		29.1		35

size for n=5: 625 modules
         *  ,c=100:    2.7M total file size (du -s)
         *  ,c=1000:   2.7M
         *  ,c=10000:  7.7M

6	1	100	198.9		107.8		81.8		153
6	1	1000	200.9		108.8		82.9		155
6 	1	10000	214.9		122.3		84.4		166
6	2	100	106.2		110.3		87.2		82
6	2	1000	107.8		112.9		86.3		83
6	2	10000	117.6		125.7		88.0		91
6	4	100	66.5		128.3		92.2		51
6	4	1000	66.8		127.1		93.7		52
6	4	10000	72.1		138.9		94.8		56

size for n=6: 1296 modules
         *  ,c=100:    5.5M total file size
         *  ,c=1000:   5.5M
         *  ,c=10000:  15.9M

7	1	100	622.3		362.4		244.0		259
7	1	1000	625.5		367.1		244.6		260
7 	1	10000	645.3		393.3		245.8		269
7	2	100	328.6		365.7		259.0		137
7	2	1000	329.0		366.7		258.0		137
7	2	10000	340.4		390.8		263.6		142
7	4	100	208.7		419.2		287.1		87
7	4	1000	220.7		419.2		284.8		92
7	4	10000	213.1		444.4		291.2		89

size for n=7: 2401 modules
         *  ,c=100:    10.0M total file size
         *  ,c=1000:   10.0M
         *  ,c=10000:  29.2M

8	1	100	1850.8		1173.0		668.1		452
8	1	1000	1868.5		1181.0		676.5		456
8 	1	10000	1906.2		1225.1		681.7		465
8	2	100	961.9		1142.7		731.4		235
8	2	1000	969.1		1155.2		729.2		237
8	2	10000	983.4		1192.3		736.7		240
8	4	100	598.1		1279.1		805.8		146
8	4	1000	602.5		1300.0		805.4		147
8	4	10000	607.1		1317.3		818.9		148

size for n=8: 4096 modules
         *  ,c=100:    16.9M total file size
         *  ,c=1000:   16.9M
         *  ,c=10000:  49.7M

Select other timings: user time/module

n 	j 	c	elapsed time(s)	user time(s)	u/module (ms)
5 	1	10000	64.9		35.1		56
6 	1	10000	214.9		122.3		94
7 	1	10000	645.3		393.3		163
8 	1	10000	1906.2		1225.1		299

system time/module:

n 	j 	c	elapsed time(s)	sys time(s)	s/module (ms)
5 	1	10000	64.9		24.9		40
6 	1	10000	214.9		84.4		65
7 	1	10000	645.3		245.8		102
8 	1	10000	1906.2		681.7		166



